#:kivy 2.2.0
<MenuButton@Button>:
  padding: ('10dp', '5dp', '10dp', '5dp')
  size: self.texture_size
  font_size: 40#90
  bold: "true"
  color: app.main_color
  background_color: 1, 1, 1, 0
  background_normal: ""
<CountLabel@Label>:
  font_size: 30#60
  bold: "true"
  pos: self.pos

<Menu>:
  BoxLayout:
    orientation: "vertical"
    canvas:
      Rectangle:
        size: root.size
        pos: root.pos
    MenuButton:
      text: "НАЧАТЬ ТРЕНИРОВКУ"
      on_press: root.manager.current = "main"
      size_hint: 1, .1
    Image:
      source: "images/cover.png"
      allow_stretch: True
      size_hint: 1, .9
      allow_stretch: True
      keep_ratio: False

<MainWidget>:
  BoxLayout:
    box_level: box_level.__self__
    box_count: box_count.__self__
    id: main_widget
    orientation: "vertical"
    canvas.before:
      Color:
        rgba: 1, 1, 1, 1
      Rectangle:
        size: root.size
    BoxLayout:    # 10%
      size_hint: 1, .1
      MenuButton:
        id: back_menu
        size_hint: .7, 1
        text_size: self.size
        halign: 'left'
        valign: 'middle'
        text: "МЕНЮ"
        on_press: root.manager.current = "menu"

      BoxLayout:
        id: box_count
        size_hint: .3, 1


        CountLabel:
          text: root.cards_counter
          color: 0, 138/255, 1, 1
          underline: root.underline_cards_counter
        CountLabel:
          text: root.repeat_cards_counter
          color: 1, 0, 0, .7
          underline: root.underline_new_cards_counter
        CountLabel:
          text: root.new_cards_counter
          color: 0, 210/255, 72/255, 1
          underline: root.underline_repeat_cards_counter
    BoxLayout: # 70%
      id: box_letter
      size_hint: 1, .70
      Label:
        id: lab1
        padding: ('0dp', '0dp', '40dp', '0dp')
        font_size: 150
        text: root.letter_a
        text_size: self.size
        halign: "right"
        valign: 'middle'
        bold: "true"
        color: 0, 142/255, 1, 1
      Label:
        id: lab2
        padding: ('40dp', '0dp', '0dp', '0dp')
        font_size: 150
        text: root.letter_b
        text_size: self.size
        halign: "left"
        valign: 'middle'
        color: 0, 142/255, 1, 1
        bold: "true"
        # canvas.before:
        #   Color:
        #     rgba: 0, 1, 1, 1
        #   Rectangle:
        #     size: self.size
        #     pos: self.pos
      Label:
        id: lab3
        size_hint: 1, .2
        markup: True 
        font_size: 100
        text: root.word
        bold: "true"
        color: app.main_color

      Image:
        id: picture
        size_hint: .5, .8
        # size: 300, 300
        pos_hint: {'right': .75}
        source: root.picture_link
        allow_stretch: True
        # keep_ratio: False
  

    MenuButton: #10%
      id: but_open
      size_hint: 1, .1  #10%
      text: "ОТКРЫТЬ"
      on_press: root.open_card()
    BoxLayout: #10%
      id: box_level
      size_hint: 1, .1 #10%
      MenuButton:
        size_hint: .25,1
        text: "СНОВА"
        font_size: 25#60
        color: 1, 0, 0, .7
        on_press: root.rating_word(self.text)
      MenuButton:
        size_hint: .3,1
        text: "СЛОЖНО"
        font_size: 25#60
        color: 120/255, 120/255, 120/255, 1
        on_press: root.rating_word(self.text)
      MenuButton:
        size_hint: .3,1
        text: "ХОРОШО"
        font_size: 25#60
        color: 0, 210/255, 72/255, 1
        on_press: root.rating_word(self.text)
      MenuButton:
        size_hint: .25,1
        text: "ЛЕГКО"
        font_size: 25#60
        color: 0, 142/255, 1, 1
        on_press: root.rating_word(self.text)